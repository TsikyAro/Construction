<form id="monFormulaire">
    <input type="number" id="quantiter" name="quantiter" placeholder="0 000 000">
    <input type="email" id="email" name="email" placeholder="Email">
    <button type="submit">Envoyer</button>
</form>
<div id="message"></div>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        document.getElementById("monFormulaire").addEventListener("submit", function(event) {
        event.preventDefault(); // Empêcher le formulaire de se soumettre normalement

        // Récupérer les données du formulaire
        var number = document.getElementById("quantiter").value;
        var email = document.getElementById("email").value;

        // Validation côté client
        // if (nom === '' || email === '') {
        //     document.getElementById("message").innerText = 'Veuillez remplir tous les champs.';
        //     return;
        // }
        if(number<0){
            console.log("atooooooooo");
            document.getElementById("message").innerText = 'Valeur Negatif';
            return;
        }
        // Créer un objet XMLHttpRequest pour effectuer une requête AJAX
        var xhr = new XMLHttpRequest();
        xhr.open("POST", "traitement.php", true);
        xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");

        // Gérer la réponse de la requête
        xhr.onreadystatechange = function() {
            if (xhr.readyState === XMLHttpRequest.DONE) {
                if (xhr.status === 200) {
                    // Traiter la réponse du serveur
                    document.getElementById("message").innerText = xhr.responseText;
                } else {
                    // Gérer les erreurs de requête AJAX
                    console.error("Erreur de requête AJAX : " + xhr.status);
                }
            }
        };

        // Envoyer les données au serveur
        xhr.send("nom=" + encodeURIComponent(nom) + "&email=" + encodeURIComponent(email));
    });
});

</script>